# NetMarketiniz B2B/B2C - Cursor Rules

## KÄ°MSÄ°N SEN?
- Ben BELEN'in Laravel asistanÄ±yÄ±m
- Excel VBA'dan Laravel'e geÃ§iÅŸ yapÄ±yoruz
- "Biz" diyoruz Ã§Ã¼nkÃ¼ birlikte Ã§alÄ±ÅŸÄ±yoruz
- TÃ¼rkÃ§e method isimleri kullanÄ±yoruz
- Panel deÄŸil PANO diyoruz

## TEKNOLOJÄ°
```
Laravel: 12
PHP: 8.2
MySQL: 8.0
Pattern: Repository + Service
AI: Claude Sonnet 4.5
```

## MÄ°MARÄ°
```
app/
â”œâ”€â”€ Models/          â†’ Eloquent modeller
â”œâ”€â”€ Repositories/    â†’ Veri eriÅŸim katmanÄ±
â”œâ”€â”€ Services/        â†’ Ä°ÅŸ mantÄ±ÄŸÄ±
â”œâ”€â”€ Http/
â”‚   â”œâ”€â”€ Controllers/ â†’ Ä°nce controller
â”‚   â””â”€â”€ Requests/    â†’ Form validation
â””â”€â”€ Console/
    â””â”€â”€ Commands/    â†’ Artisan komutlarÄ±
```

## KURALLAR

### 1. Ä°simlendirme
```php
// âœ… DOÄRU
public function urunleriGetir()
public function bayiEkle()
public function siparisOlustur()

// âŒ YANLIÅ
public function getProducts()
public function addDealer()
public function createOrder()
```

### 2. Repository Pattern
```php
// Controller'da:
public function index()
{
    $urunler = $this->urunRepository->tumunuGetir();
    return view('urunler.liste', compact('urunler'));
}

// Repository'de:
public function tumunuGetir()
{
    return $this->model->with('kategori')->get();
}
```

### 3. Service Layer
```php
// Controller:
public function store(Request $request)
{
    $siparis = $this->siparisService->olustur($request->all());
    return redirect()->route('siparisler.goster', $siparis);
}

// Service:
public function olustur(array $data)
{
    DB::beginTransaction();
    try {
        $siparis = $this->siparisRepository->kaydet($data);
        $this->stokService->azalt($data['urunler']);
        DB::commit();
        return $siparis;
    } catch (\Exception $e) {
        DB::rollBack();
        throw $e;
    }
}
```

### 4. Validation
```php
// Request class kullan
php artisan make:request UrunKaydetRequest

// Ä°Ã§inde:
public function rules()
{
    return [
        'ad' => 'required|string|max:255',
        'fiyat' => 'required|numeric|min:0',
        'stok' => 'required|integer|min:0',
    ];
}
```

### 5. Migration
```php
// TÃ¼rkÃ§e tablo isimleri
Schema::create('urunler', function (Blueprint $table) {
    $table->id();
    $table->string('ad');
    $table->decimal('fiyat', 10, 2);
    $table->integer('stok');
    $table->foreignId('kategori_id')->constrained('kategoriler');
    $table->timestamps();
    $table->softDeletes();
});
```

### 6. Route Ä°simlendirme
```php
// TÃ¼rkÃ§e route names
Route::get('/urunler', [UrunController::class, 'index'])->name('urunler.liste');
Route::post('/urunler', [UrunController::class, 'store'])->name('urunler.kaydet');
Route::get('/urunler/{id}', [UrunController::class, 'show'])->name('urunler.goster');
```

### 7. Blade Template
```php
// TÃ¼rkÃ§e deÄŸiÅŸkenler
@foreach($urunler as $urun)
    <div>
        <h3>{{ $urun->ad }}</h3>
        <p>Fiyat: {{ $urun->fiyat }} TL</p>
        <p>Stok: {{ $urun->stok }}</p>
    </div>
@endforeach
```

## CLAUDE ENTEGRASYONU

### ClaudeService KullanÄ±mÄ±
```php
// Controller'da:
public function aiOneri(Request $request)
{
    $oneri = $this->claudeService->mesajGonder([
        'role' => 'user',
        'content' => 'Bu Ã¼rÃ¼n iÃ§in aÃ§Ä±klama oluÅŸtur: ' . $request->urun_ad
    ]);
    
    return response()->json(['oneri' => $oneri]);
}
```

### Context Senkronizasyonu
```bash
# Her deployment'ta Ã§alÄ±ÅŸtÄ±r:
php artisan cursor:sync-context

# Context otomatik gÃ¼ncellenir
# Cursor @ mention ile kullanÄ±lÄ±r
```

## HATIRLATMALAR

### âœ… YAP
- TÃ¼rkÃ§e method isimleri kullan
- Repository pattern uygula
- Service layer ekle
- Validation yap
- Transaction kullan (gerekirse)
- Try-catch ekle
- Log at (Ã¶nemli iÅŸlemler)
- Comment yaz (karmaÅŸÄ±k mantÄ±k)

### âŒ YAPMA
- Ä°ngilizce method ismi kullanma
- Controller'a iÅŸ mantÄ±ÄŸÄ± yazma
- Raw query kullanma (Eloquent var)
- Validation'Ä± controller'da yapma
- Error handling unutma
- Context kaybetme

## Ã–ZEL DURUMLAR

### Panel vs Pano
```php
// âœ… DOÄRU
Route::prefix('pano')->group(...)
view('pano.anasayfa')

// âŒ YANLIÅ
Route::prefix('panel')->group(...)
view('panel.dashboard')
```

### Excel Ä°mport/Export
```php
// BELEN Excel'e aÅŸina
// DetaylÄ± aÃ§Ä±klama yap:

// 1. AdÄ±m: Excel dosyasÄ± yÃ¼kle
$dosya = $request->file('excel');

// 2. AdÄ±m: Verileri oku
$veriler = Excel::toArray(new UrunImport, $dosya);

// 3. AdÄ±m: VeritabanÄ±na kaydet
foreach ($veriler[0] as $satir) {
    Urun::create([
        'ad' => $satir['ad'],
        'fiyat' => $satir['fiyat'],
    ]);
}
```

## CONTEXT YÃ–NETÄ°MÄ°

### Cursor'da KullanÄ±m
```
1. @ tuÅŸuna bas
2. ".cursorrules" veya ".claude/context.json" seÃ§
3. Prompt yaz
4. Context otomatik yÃ¼klenir
```

### Context GÃ¼ncel mi?
```bash
php artisan cursor:sync-context

# Output:
# Syncing context to Cursor...
# Project: NetMarketiniz B2B/B2C
# Owner: BELEN
# Status: Development
# Context synced!
```

## SON SÃ–Z
```
"Kolay gelsin BELEN!" ğŸš€

Her zaman:
- DetaylÄ± aÃ§Ä±kla
- TÃ¼rkÃ§e yaz
- Repository kullan
- Context tut
- Birlikte tamamla
```
